(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var s=e.i(43476),t=e.i(71645);function r(){let e,[r,n]=(0,t.useState)(""),[l,o]=(0,t.useState)(!1),[p,u]=(0,t.useState)(""),[i,m]=(0,t.useState)(null),[d,c]=(0,t.useState)([]),[h,g]=(0,t.useState)(new Set),[P,x]=(0,t.useState)("Generated Test Plan"),[T,b]=(0,t.useState)(10),[f,v]=(0,t.useState)(1),[j,N]=(0,t.useState)(60),[y,S]=(0,t.useState)(""),[w,R]=(0,t.useState)([{key:"Authorization",value:"Bearer ${TOKEN}"},{key:"Content-Type",value:"application/json"}]);async function A(){u(""),m(null),c([]),o(!0);try{let e=await fetch(r,{cache:"no-store"});if(!e.ok)throw Error(`Failed to fetch: ${e.status} ${e.statusText}`);let s=await e.json();m(s);let t=function(e){try{let s=new URL(e);return`${s.protocol}//${s.hostname}${s.port?":"+s.port:""}`}catch{return""}}(r);S(t);let a=function(e){let s=[];if(!e)return s;let t=!!e.openapi?.startsWith("3"),r=e.paths||{};for(let e of Object.keys(r)){let a=r[e];for(let r of Object.keys(a)){let n=a[r];if(!n||"object"!=typeof n)continue;let l=(n.parameters??[]).slice(),o=t?n.requestBody??null:null;s.push({path:e,method:r.toUpperCase(),summary:n.summary||n.operationId,description:n.description,parameters:l,requestBody:o,tags:n.tags??[],rawOperation:n})}}return s}(s);c(a)}catch(e){u(String(e.message||e))}finally{o(!1)}}return(0,t.useEffect)(()=>{g(new Set)},[d]),(0,s.jsx)("div",{className:"min-h-screen bg-slate-50 p-6",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto bg-white shadow-md rounded-lg p-6",children:[(0,s.jsxs)("header",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Swagger → JMeter (.jmx) Generator"}),(0,s.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Paste a Swagger/OpenAPI JSON URL and generate a JMeter test plan."})]}),(0,s.jsxs)("section",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-700",children:"Swagger/OpenAPI URL"}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)("input",{value:r,onChange:e=>n(e.target.value),placeholder:"https://localhost:5000/swagger/v1/swagger.json",className:"flex-1 border rounded px-3 py-2"}),(0,s.jsx)("button",{onClick:A,disabled:l||!r,className:"px-4 py-2 bg-sky-600 text-white rounded disabled:opacity-60",children:l?"Fetching...":"Fetch"})]})]}),p&&(0,s.jsx)("div",{className:"text-red-600",children:p}),i&&(0,s.jsxs)("div",{className:"border rounded p-3 bg-slate-50",children:[(0,s.jsxs)("div",{className:"mt-4 border rounded p-3 bg-slate-100",children:[(0,s.jsx)("div",{className:"font-medium mb-2",children:"Common Headers"}),w.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,s.jsx)("input",{value:e.key,placeholder:"Header Name",onChange:e=>{let s=[...w];s[t].key=e.target.value,R(s)},className:"border rounded px-2 py-1 w-1/3"}),(0,s.jsx)("input",{value:e.value,placeholder:"Header Value",onChange:e=>{let s=[...w];s[t].value=e.target.value,R(s)},className:"border rounded px-2 py-1 w-2/3"})]},t)),(0,s.jsx)("button",{onClick:()=>R([...w,{key:"",value:""}]),className:"px-3 py-1 border rounded",children:"+ Add Header"}),(0,s.jsx)("button",{onClick:()=>R([...w,{key:"Authorization",value:"Bearer ${TOKEN}"}]),className:"px-3 py-1 border rounded ml-2",children:"+ Authorization Bearer"})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-slate-600",children:"Title"}),(0,s.jsx)("div",{className:"font-medium",children:i.info?.title??i.swagger??"OpenAPI"})]}),(0,s.jsxs)("div",{className:"text-sm text-slate-600",children:["Version: ",i.info?.version??"-"]})]}),(0,s.jsxs)("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2",children:[(0,s.jsxs)("label",{className:"text-sm",children:[(0,s.jsx)("div",{className:"text-slate-600",children:"Output TestPlan Title"}),(0,s.jsx)("input",{value:P,onChange:e=>x(e.target.value),className:"w-full border rounded px-2 py-1 mt-1"})]}),(0,s.jsxs)("label",{className:"text-sm",children:[(0,s.jsx)("div",{className:"text-slate-600",children:"Base URL"}),(0,s.jsx)("input",{value:y,onChange:e=>S(e.target.value),placeholder:"http://localhost:5000",className:"w-full border rounded px-2 py-1 mt-1"})]})]}),(0,s.jsxs)("div",{className:"mt-3 grid grid-cols-3 gap-2",children:[(0,s.jsxs)("label",{className:"text-sm",children:[(0,s.jsx)("div",{className:"text-slate-600",children:"Threads"}),(0,s.jsx)("input",{value:T,onChange:e=>b(Number(e.target.value)),className:"w-full border rounded px-2 py-1 mt-1"})]}),(0,s.jsxs)("label",{className:"text-sm",children:[(0,s.jsx)("div",{className:"text-slate-600",children:"Ramp-up"}),(0,s.jsx)("input",{value:f,onChange:e=>v(Number(e.target.value)),className:"w-full border rounded px-2 py-1 mt-1"})]}),(0,s.jsxs)("label",{className:"text-sm",children:[(0,s.jsx)("div",{className:"text-slate-600",children:"Duration"}),(0,s.jsx)("input",{value:j,onChange:e=>N(Number(e.target.value)),className:"w-full border rounded px-2 py-1 mt-1"})]})]}),(0,s.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,s.jsx)("button",{onClick:function(){g(new Set(d.map((e,s)=>s)))},className:"px-3 py-1 border rounded",children:"Select All"}),(0,s.jsx)("button",{onClick:function(){g(new Set)},className:"px-3 py-1 border rounded",children:"Deselect All"})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h3",{className:"font-medium mb-2",children:"Detected endpoints"}),(0,s.jsx)("div",{className:"space-y-2 max-h-64 overflow-auto",children:(e=new Map,d.forEach((s,t)=>{let r=s.tags?.[0]??"default";e.has(r)||e.set(r,[]),e.get(r).push({...s,_index:t})}),Array.from(e.entries())).map(([e,t])=>(0,s.jsxs)("div",{className:"border rounded p-2 bg-white",children:[(0,s.jsx)("div",{className:"text-sm font-semibold",children:e}),(0,s.jsx)("div",{className:"mt-2 space-y-1",children:t.map(e=>(0,s.jsxs)("label",{className:"flex items-start gap-3",children:[(0,s.jsx)("input",{type:"checkbox",checked:h.has(e._index),onChange:()=>{var s;let t;return s=e._index,void((t=new Set(h)).has(s)?t.delete(s):t.add(s),g(t))}}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-sm font-mono",children:["[",e.method,"] ",e.path]}),(0,s.jsx)("div",{className:"text-xs text-slate-500",children:e.summary})]})]},e._index))})]},e))})]}),(0,s.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,s.jsx)("button",{onClick:function(){if(!i)return;let e=d.filter((e,s)=>h.has(s));if(0===e.length)return void u("No endpoints selected");let s=function({title:e,baseUrl:s,threads:t,rampTime:r,duration:n,endpoints:l,commonHeaders:o}){let p=a(e||"Test Plan"),u=s||"${BASE_URL}",{protocol:i,host:m,port:d}=function(e){try{let s=new URL(e),t=s.protocol.replace(":",""),r=s.hostname,a=s.port||("https"===t?"443":"80");return{protocol:t,host:r,port:a}}catch{return{protocol:"${PROTOCOL}",host:"${SERVER_NAME}",port:"${PORT}"}}}(u),c=[];for(let e of(c.push('<?xml version="1.0" encoding="UTF-8"?>'),c.push('<jmeterTestPlan version="1.2" properties="5.0" jmeter="5.6.3">'),c.push("<hashTree>"),c.push(`<TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="${p}" enabled="true">`),c.push('<stringProp name="TestPlan.comments"></stringProp>'),c.push('<boolProp name="TestPlan.functional_mode">false</boolProp>'),c.push('<boolProp name="TestPlan.tearDown_on_shutdown">true</boolProp>'),c.push('<boolProp name="TestPlan.serialize_threadgroups">false</boolProp>'),c.push('<elementProp name="TestPlan.user_defined_variables" elementType="Arguments">'),c.push('<collectionProp name="Arguments.arguments">'),c.push('<elementProp name="BASE_URL" elementType="Argument">'),c.push('<stringProp name="Argument.name">BASE_URL</stringProp>'),c.push(`<stringProp name="Argument.value">${a(u)}</stringProp>`),c.push('<stringProp name="Argument.metadata">=</stringProp>'),c.push("</elementProp>"),c.push('<elementProp name="PROTOCOL" elementType="Argument">'),c.push('<stringProp name="Argument.name">PROTOCOL</stringProp>'),c.push(`<stringProp name="Argument.value">${a(i)}</stringProp>`),c.push('<stringProp name="Argument.metadata">=</stringProp>'),c.push("</elementProp>"),c.push('<elementProp name="SERVER_NAME" elementType="Argument">'),c.push('<stringProp name="Argument.name">SERVER_NAME</stringProp>'),c.push(`<stringProp name="Argument.value">${a(m)}</stringProp>`),c.push('<stringProp name="Argument.metadata">=</stringProp>'),c.push("</elementProp>"),c.push('<elementProp name="PORT" elementType="Argument">'),c.push('<stringProp name="Argument.name">PORT</stringProp>'),c.push(`<stringProp name="Argument.value">${a(d)}</stringProp>`),c.push('<stringProp name="Argument.metadata">=</stringProp>'),c.push("</elementProp>"),c.push("</collectionProp>"),c.push("</elementProp>"),c.push('<stringProp name="TestPlan.user_define_classpath"></stringProp>'),c.push("</TestPlan>"),c.push("<hashTree>"),c.push('<ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" enabled="true" testname="Thread Group">'),c.push('<stringProp name="ThreadGroup.on_sample_error">continue</stringProp>'),c.push('<elementProp name="ThreadGroup.main_controller" elementType="LoopController">'),c.push('<boolProp name="LoopController.continue_forever">false</boolProp>'),c.push('<stringProp name="LoopController.loops">-1</stringProp>'),c.push("</elementProp>"),c.push(`<stringProp name="ThreadGroup.num_threads">${t}</stringProp>`),c.push(`<stringProp name="ThreadGroup.ramp_time">${r}</stringProp>`),c.push('<boolProp name="ThreadGroup.scheduler">true</boolProp>'),c.push(`<stringProp name="ThreadGroup.duration">${n}</stringProp>`),c.push('<stringProp name="ThreadGroup.delay"></stringProp>'),c.push("</ThreadGroup>"),c.push("<hashTree>"),l)){let s=`${e.method} ${e.path}`;for(let t of(c.push(`<HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="${a(s)}" enabled="true">`),c.push('<boolProp name="HTTPSampler.postBodyRaw">true</boolProp>'),c.push('<elementProp name="HTTPsampler.Arguments" elementType="Arguments">'),c.push('<collectionProp name="Arguments.arguments"></collectionProp>'),c.push("</elementProp>"),c.push('<stringProp name="HTTPSampler.domain">${SERVER_NAME}</stringProp>'),c.push('<stringProp name="HTTPSampler.port">${PORT}</stringProp>'),c.push('<stringProp name="HTTPSampler.protocol">${PROTOCOL}</stringProp>'),c.push(`<stringProp name="HTTPSampler.path">${a(e.path)}</stringProp>`),c.push(`<stringProp name="HTTPSampler.method">${a(e.method)}</stringProp>`),c.push('<boolProp name="HTTPSampler.follow_redirects">true</boolProp>'),c.push('<boolProp name="HTTPSampler.auto_redirects">false</boolProp>'),c.push('<boolProp name="HTTPSampler.use_keepalive">true</boolProp>'),c.push('<boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>'),c.push("</HTTPSamplerProxy>"),c.push("<hashTree>"),c.push('<HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">'),c.push('<collectionProp name="HeaderManager.headers">'),o||[])){if(!t||!String(t.key||"").trim())continue;let e=a(t.key),s=a(t.value??"");c.push(`<elementProp name="${e}" elementType="Header">`),c.push(`<stringProp name="Header.name">${e}</stringProp>`),c.push(`<stringProp name="Header.value">${s}</stringProp>`),c.push("</elementProp>")}c.push("</collectionProp>"),c.push("</HeaderManager>"),c.push("<hashTree />"),c.push("</hashTree>")}return c.push(`<ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="View Results Tree" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                    <time>true</time>
                    <latency>true</latency>
                    <timestamp>true</timestamp>
                    <success>true</success>
                    <label>true</label>
                    <code>true</code>
                    <message>true</message>
                    <threadName>true</threadName>
                    <dataType>true</dataType>
                    <encoding>true</encoding>
                    <assertions>true</assertions>
                    <subresults>true</subresults>
                    <responseData>false</responseData>
                    <samplerData>false</samplerData>
                    <xml>true</xml>
                    <fieldNames>true</fieldNames>
                    <responseHeaders>false</responseHeaders>
                    <requestHeaders>false</requestHeaders>
                    <responseDataOnError>false</responseDataOnError>
                    <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                    <assertionsResultsToSave>0</assertionsResultsToSave>
                    <bytes>true</bytes>
                    <sentBytes>true</sentBytes>
                    <url>true</url>
                    <threadCounts>true</threadCounts>
                    <idleTime>true</idleTime>
                    <connectTime>true</connectTime>
                </value>
            </objProp>
            <stringProp name="filename"></stringProp>
        </ResultCollector>`),c.push("<hashTree />"),c.push("</hashTree>"),c.push("</hashTree>"),c.push("</hashTree>"),c.push("</jmeterTestPlan>"),c.join("\n")}({title:P,baseUrl:y||function(e){try{if(e.servers?.length)return e.servers[0].url;if(e.host){let s=e.schemes?.[0]??"http";return`${s}://${e.host}${e.basePath??""}`}return null}catch{return null}}(i)||"${BASE_URL}",threads:T,rampTime:f,duration:j,endpoints:e,commonHeaders:w}),t=new Blob([s],{type:"application/xml"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=`${P.replace(/\s+/g,"_")}.jmx`,document.body.appendChild(n),n.click(),n.remove(),URL.revokeObjectURL(r)},className:"px-4 py-2 bg-emerald-600 text-white rounded",children:"Generate & Download .jmx"}),(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(i,null,2))},className:"px-4 py-2 border rounded",children:"Copy Raw Swagger"})]})]}),!i&&(0,s.jsx)("div",{className:"text-sm text-slate-500",children:"Enter a public Swagger URL. If blocked by CORS, use a proxy."})]}),(0,s.jsxs)("footer",{className:"mt-6 text-xs text-slate-500",children:["Developed with ",(0,s.jsx)("span",{className:"animate-pulse",children:"❤️"})," by Devesh Korde"]})]})})}function a(e){return null==e?"":String(e).replace(/[<>&'"]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return e}})}e.s(["default",()=>r])}]);