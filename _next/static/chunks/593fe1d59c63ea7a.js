(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function r(){let e,[r,n]=(0,s.useState)(""),[l,o]=(0,s.useState)(!1),[p,u]=(0,s.useState)(""),[m,i]=(0,s.useState)(null),[d,c]=(0,s.useState)([]),[h,g]=(0,s.useState)(new Set),[P,x]=(0,s.useState)("Generated Test Plan"),[T,b]=(0,s.useState)(10),[f,v]=(0,s.useState)(1),[j,y]=(0,s.useState)(60),[N,S]=(0,s.useState)(""),[A,w]=(0,s.useState)({}),[R,_]=(0,s.useState)([{key:"Authorization",value:"Bearer ${TOKEN}"},{key:"Content-Type",value:"application/json"}]);async function C(){u(""),i(null),c([]),o(!0);try{let e=await fetch(r,{cache:"no-store"});if(!e.ok)throw Error(`Failed to fetch: ${e.status} ${e.statusText}`);let t=await e.json();i(t);let s=function(e){try{let t=new URL(e);return`${t.protocol}//${t.hostname}${t.port?":"+t.port:""}`}catch{return""}}(r);S(s);let a=function(e){let t=[];if(!e)return t;let s=!!e.openapi?.startsWith("3"),r=e.paths||{};for(let e of Object.keys(r)){let a=r[e];for(let r of Object.keys(a)){let n=a[r];if(!n||"object"!=typeof n)continue;let l=(n.parameters??[]).slice(),o=s?n.requestBody??null:null;t.push({path:e,method:r.toUpperCase(),summary:n.summary||n.operationId,description:n.description,parameters:l,requestBody:o,tags:n.tags??[],rawOperation:n})}}return t}(t);c(a)}catch(e){u(String(e.message||e))}finally{o(!1)}}return(0,s.useEffect)(()=>{g(new Set)},[d]),(0,t.jsx)("div",{className:"min-h-screen bg-slate-50 p-6",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto bg-white shadow-md rounded-lg p-6",children:[(0,t.jsxs)("header",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Swagger → JMeter (.jmx) Generator"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Paste a Swagger/OpenAPI JSON URL and generate a JMeter test plan."})]}),(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-slate-700",children:"Swagger/OpenAPI URL"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsx)("input",{value:r,onChange:e=>n(e.target.value),placeholder:"https://localhost:5000/swagger/v1/swagger.json",className:"flex-1 border rounded px-3 py-2"}),(0,t.jsx)("button",{onClick:C,disabled:l||!r,className:"px-4 py-2 bg-sky-600 text-white rounded disabled:opacity-60",children:l?"Fetching...":"Fetch"})]})]}),p&&(0,t.jsx)("div",{className:"text-red-600",children:p}),m&&(0,t.jsxs)("div",{className:"border rounded p-3 bg-slate-50",children:[(0,t.jsxs)("div",{className:"mt-4 border rounded p-3 bg-slate-100",children:[(0,t.jsx)("div",{className:"font-medium mb-2",children:"Common Headers"}),R.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsx)("input",{value:e.key,placeholder:"Header Name",onChange:e=>{let t=[...R];t[s].key=e.target.value,_(t)},className:"border rounded px-2 py-1 w-1/3"}),(0,t.jsx)("input",{value:e.value,placeholder:"Header Value",onChange:e=>{let t=[...R];t[s].value=e.target.value,_(t)},className:"border rounded px-2 py-1 w-2/3"})]},s)),(0,t.jsx)("button",{onClick:()=>_([...R,{key:"",value:""}]),className:"px-3 py-1 border rounded",children:"+ Add Header"}),(0,t.jsx)("button",{onClick:()=>_([...R,{key:"Authorization",value:"Bearer ${TOKEN}"}]),className:"px-3 py-1 border rounded ml-2",children:"+ Authorization Bearer"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-600",children:"Title"}),(0,t.jsx)("div",{className:"font-medium",children:m.info?.title??m.swagger??"OpenAPI"})]}),(0,t.jsxs)("div",{className:"text-sm text-slate-600",children:["Version: ",m.info?.version??"-"]})]}),(0,t.jsxs)("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"text-sm",children:[(0,t.jsx)("div",{className:"text-slate-600",children:"Output TestPlan Title"}),(0,t.jsx)("input",{value:P,onChange:e=>x(e.target.value),className:"w-full border rounded px-2 py-1 mt-1"})]}),(0,t.jsxs)("label",{className:"text-sm",children:[(0,t.jsx)("div",{className:"text-slate-600",children:"Base URL"}),(0,t.jsx)("input",{value:N,onChange:e=>S(e.target.value),placeholder:"http://localhost:5000",className:"w-full border rounded px-2 py-1 mt-1"})]})]}),(0,t.jsxs)("div",{className:"mt-3 grid grid-cols-3 gap-2",children:[(0,t.jsxs)("label",{className:"text-sm",children:[(0,t.jsx)("div",{className:"text-slate-600",children:"Threads"}),(0,t.jsx)("input",{value:T,onChange:e=>b(Number(e.target.value)),className:"w-full border rounded px-2 py-1 mt-1"})]}),(0,t.jsxs)("label",{className:"text-sm",children:[(0,t.jsx)("div",{className:"text-slate-600",children:"Ramp-up"}),(0,t.jsx)("input",{value:f,onChange:e=>v(Number(e.target.value)),className:"w-full border rounded px-2 py-1 mt-1"})]}),(0,t.jsxs)("label",{className:"text-sm",children:[(0,t.jsx)("div",{className:"text-slate-600",children:"Duration"}),(0,t.jsx)("input",{value:j,onChange:e=>y(Number(e.target.value)),className:"w-full border rounded px-2 py-1 mt-1"})]})]}),(0,t.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,t.jsx)("button",{onClick:function(){g(new Set(d.map((e,t)=>t)))},className:"px-3 py-1 border rounded",children:"Select All"}),(0,t.jsx)("button",{onClick:function(){g(new Set)},className:"px-3 py-1 border rounded",children:"Deselect All"})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h3",{className:"font-medium mb-2",children:"Detected endpoints"}),(0,t.jsx)("div",{className:"space-y-2 max-h-64 overflow-auto",children:(e=new Map,d.forEach((t,s)=>{let r=t.tags?.[0]??"default";e.has(r)||e.set(r,[]),e.get(r).push({...t,_index:s})}),Array.from(e.entries())).map(([e,s])=>(0,t.jsxs)("div",{className:"border rounded p-2 bg-white",children:[(0,t.jsx)("div",{className:"text-sm font-semibold",children:e}),(0,t.jsx)("div",{className:"mt-2 space-y-1",children:s.map(e=>(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsxs)("label",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:h.has(e._index),onChange:()=>{var t;let s;return t=e._index,void((s=new Set(h)).has(t)?s.delete(t):s.add(t),g(s))}}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-sm font-mono",children:["[",e.method,"] ",e.path]}),(0,t.jsx)("div",{className:"text-xs text-slate-500",children:e.summary})]})]}),h.has(e._index)&&e.parameters?.length&&(0,t.jsx)("div",{className:"ml-8 mt-1 space-y-1",children:e.parameters.filter(e=>"query"===e.in).map(s=>(0,t.jsx)("input",{placeholder:`${s.name} (${s.schema?.type??"string"})`,value:A[e._index]?.[s.name]||"",onChange:t=>{w(r=>({...r,[e._index]:{...r[e._index]||{},[s.name]:t.target.value}}))},className:"border rounded px-2 py-1 w-1/2 text-sm"},s.name))})]},e._index))})]},e))})]}),(0,t.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,t.jsx)("button",{onClick:function(){if(!m)return;let e=d.filter((e,t)=>h.has(t));if(0===e.length)return void u("No endpoints selected");let t=function({title:e,baseUrl:t,threads:s,rampTime:r,duration:n,endpoints:l,commonHeaders:o,queryParamValues:p}){let u=a(e||"Test Plan"),m=t||"${BASE_URL}",{protocol:i,host:d,port:c}=function(e){try{let t=new URL(e),s=t.protocol.replace(":",""),r=t.hostname,a=t.port||("https"===s?"443":"80");return{protocol:s,host:r,port:a}}catch{return{protocol:"${PROTOCOL}",host:"${SERVER_NAME}",port:"${PORT}"}}}(m),h=[];for(let e of(h.push('<?xml version="1.0" encoding="UTF-8"?>'),h.push('<jmeterTestPlan version="1.2" properties="5.0" jmeter="5.6.3">'),h.push("<hashTree>"),h.push(`<TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="${u}" enabled="true">`),h.push('<stringProp name="TestPlan.comments"></stringProp>'),h.push('<boolProp name="TestPlan.functional_mode">false</boolProp>'),h.push('<boolProp name="TestPlan.tearDown_on_shutdown">true</boolProp>'),h.push('<boolProp name="TestPlan.serialize_threadgroups">false</boolProp>'),h.push('<elementProp name="TestPlan.user_defined_variables" elementType="Arguments">'),h.push('<collectionProp name="Arguments.arguments">'),h.push('<elementProp name="BASE_URL" elementType="Argument">'),h.push('<stringProp name="Argument.name">BASE_URL</stringProp>'),h.push(`<stringProp name="Argument.value">${a(m)}</stringProp>`),h.push('<stringProp name="Argument.metadata">=</stringProp>'),h.push("</elementProp>"),h.push('<elementProp name="PROTOCOL" elementType="Argument"><stringProp name="Argument.name">PROTOCOL</stringProp><stringProp name="Argument.value">'+a(i)+'</stringProp><stringProp name="Argument.metadata">=</stringProp></elementProp>'),h.push('<elementProp name="SERVER_NAME" elementType="Argument"><stringProp name="Argument.name">SERVER_NAME</stringProp><stringProp name="Argument.value">'+a(d)+'</stringProp><stringProp name="Argument.metadata">=</stringProp></elementProp>'),h.push('<elementProp name="PORT" elementType="Argument"><stringProp name="Argument.name">PORT</stringProp><stringProp name="Argument.value">'+a(c)+'</stringProp><stringProp name="Argument.metadata">=</stringProp></elementProp>'),l.forEach(e=>{let t=e._index;e.parameters?.forEach(e=>{if("query"===e.in){let s=`ep${t}_${e.name}`;h.push('<elementProp name="'+s+'" elementType="Argument">'),h.push('<stringProp name="Argument.name">'+s+"</stringProp>"),h.push(`<stringProp name="Argument.value">${a(p?.[t]?.[e.name]??"")}</stringProp>`),h.push('<stringProp name="Argument.metadata">=</stringProp>'),h.push("</elementProp>")}})}),h.push("</collectionProp>"),h.push("</elementProp>"),h.push('<stringProp name="TestPlan.user_define_classpath"></stringProp>'),h.push("</TestPlan>"),h.push("<hashTree>"),h.push('<ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" enabled="true" testname="Thread Group">'),h.push('<stringProp name="ThreadGroup.on_sample_error">continue</stringProp>'),h.push('<elementProp name="ThreadGroup.main_controller" elementType="LoopController">'),h.push('<boolProp name="LoopController.continue_forever">false</boolProp>'),h.push('<stringProp name="LoopController.loops">-1</stringProp>'),h.push("</elementProp>"),h.push(`<stringProp name="ThreadGroup.num_threads">${s}</stringProp>`),h.push(`<stringProp name="ThreadGroup.ramp_time">${r}</stringProp>`),h.push('<boolProp name="ThreadGroup.scheduler">true</boolProp>'),h.push(`<stringProp name="ThreadGroup.duration">${n}</stringProp>`),h.push("</ThreadGroup>"),h.push("<hashTree>"),l)){let t=e._index,s=`${e.method} ${e.path}`;for(let r of(h.push(`<HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="${a(s)}" enabled="true">`),h.push('<boolProp name="HTTPSampler.postBodyRaw">true</boolProp>'),h.push('<elementProp name="HTTPsampler.Arguments" elementType="Arguments">'),h.push('<collectionProp name="Arguments.arguments">'),e.parameters?.forEach(e=>{if("query"===e.in){let s=`ep${t}_${e.name}`;h.push('<elementProp name="'+s+'" elementType="HTTPArgument">'),h.push('<boolProp name="HTTPArgument.always_encode">true</boolProp>'),h.push('<stringProp name="Argument.name">'+a(e.name)+"</stringProp>"),h.push('<stringProp name="Argument.value">${'+s+"}</stringProp>"),h.push('<stringProp name="Argument.metadata">=</stringProp>'),h.push("</elementProp>")}}),h.push("</collectionProp>"),h.push("</elementProp>"),h.push('<stringProp name="HTTPSampler.domain">${SERVER_NAME}</stringProp>'),h.push('<stringProp name="HTTPSampler.port">${PORT}</stringProp>'),h.push('<stringProp name="HTTPSampler.protocol">${PROTOCOL}</stringProp>'),h.push(`<stringProp name="HTTPSampler.path">${a(e.path)}</stringProp>`),h.push(`<stringProp name="HTTPSampler.method">${a(e.method)}</stringProp>`),h.push('<boolProp name="HTTPSampler.follow_redirects">true</boolProp>'),h.push('<boolProp name="HTTPSampler.auto_redirects">false</boolProp>'),h.push('<boolProp name="HTTPSampler.use_keepalive">true</boolProp>'),h.push('<boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>'),h.push("</HTTPSamplerProxy>"),h.push("<hashTree>"),h.push('<HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">'),h.push('<collectionProp name="HeaderManager.headers">'),o||[])){if(!r?.key?.trim())continue;let e=a(r.key),t=a(r.value??"");h.push(`<elementProp name="${e}" elementType="Header">`),h.push(`<stringProp name="Header.name">${e}</stringProp>`),h.push(`<stringProp name="Header.value">${t}</stringProp>`),h.push("</elementProp>")}h.push("</collectionProp>"),h.push("</HeaderManager>"),h.push("<hashTree />"),h.push("</hashTree>")}return h.push(`<ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="View Results Tree" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                    <time>true</time><latency>true</latency><timestamp>true</timestamp><success>true</success>
                    <label>true</label><code>true</code><message>true</message><threadName>true</threadName>
                    <dataType>true</dataType><encoding>true</encoding><assertions>true</assertions>
                    <subresults>true</subresults><responseData>false</responseData><samplerData>false</samplerData>
                    <xml>true</xml><fieldNames>true</fieldNames><responseHeaders>false</responseHeaders>
                    <requestHeaders>false</requestHeaders><responseDataOnError>false</responseDataOnError>
                    <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                    <assertionsResultsToSave>0</assertionsResultsToSave><bytes>true</bytes><sentBytes>true</sentBytes>
                    <url>true</url><threadCounts>true</threadCounts><idleTime>true</idleTime><connectTime>true</connectTime>
                </value>
            </objProp>
            <stringProp name="filename"></stringProp>
        </ResultCollector>`),h.push("<hashTree />"),h.push("</hashTree>"),h.push("</hashTree>"),h.push("</hashTree>"),h.push("</jmeterTestPlan>"),h.join("\n")}({title:P,baseUrl:N||function(e){try{if(e.servers?.length)return e.servers[0].url;if(e.host){let t=e.schemes?.[0]??"http";return`${t}://${e.host}${e.basePath??""}`}return null}catch{return null}}(m)||"${BASE_URL}",threads:T,rampTime:f,duration:j,endpoints:e,commonHeaders:R,queryParamValues:A}),s=new Blob([t],{type:"application/xml"}),r=URL.createObjectURL(s),n=document.createElement("a");n.href=r,n.download=`${P.replace(/\s+/g,"_")}.jmx`,document.body.appendChild(n),n.click(),n.remove(),URL.revokeObjectURL(r)},className:"px-4 py-2 bg-emerald-600 text-white rounded",children:"Generate & Download .jmx"}),(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(m,null,2))},className:"px-4 py-2 border rounded",children:"Copy Raw Swagger"})]})]}),!m&&(0,t.jsx)("div",{className:"text-sm text-slate-500",children:"Enter a public Swagger URL. If blocked by CORS, use a proxy."})]}),(0,t.jsxs)("footer",{className:"mt-6 text-xs text-slate-500",children:["Developed with ",(0,t.jsx)("span",{className:"animate-pulse",children:"❤️"})," by Devesh Korde"]})]})})}function a(e){return null==e?"":String(e).replace(/[<>&'"]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return e}})}e.s(["default",()=>r])}]);